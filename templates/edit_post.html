{% extends 'base.html' %}
{% block title %}Редактировать пост · Pulse{% endblock %}
{% block content %}
<div class="card">
  <h2 style="margin-top:0;">Редактировать пост</h2>
  <form method="post" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <div>
      {{ form.title.label }}<br>
      {{ form.title() }}
      {% for error in form.title.errors %}<span class="muted">{{ error }}</span>{% endfor %}
    </div>
    <div>
      {{ form.content.label }}<br>
      {{ form.content(rows=5) }}
      {% for error in form.content.errors %}<span class="muted">{{ error }}</span>{% endfor %}
    </div>
    <div>
      {{ form.image.label }}<br>
      {{ form.image() }}
    </div>
    {% if post.image %}
      <p class="muted">Текущее изображение:</p>
      <img src="{{ url_for('static', filename=post.image) }}" alt="" style="max-width:240px; border-radius:10px; border:1px solid var(--border);">
    {% endif %}
    <button class="btn primary" type="submit">Сохранить</button>
  </form>
</div>
{% endblock %}
