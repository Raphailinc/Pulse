{% extends 'base.html' %}
{% block title %}Профиль · Pulse{% endblock %}
{% block content %}
<div class="grid-two">
  <div class="card">
    <div class="post-meta">
      <img class="avatar" src="{{ user.profile_image_url() }}" alt="{{ user.username }}" style="width:72px; height:72px; border-radius:16px;">
      <div>
        <h2 style="margin:0;">{{ user.username }}</h2>
        <p class="muted">Ваши публикации и комментарии</p>
      </div>
    </div>
    <form method="post" enctype="multipart/form-data">
      {{ form.hidden_tag() }}
      <div>
        {{ form.profile_picture.label }}<br>
        {{ form.profile_picture() }}
        {% for error in form.profile_picture.errors %}<span class="muted">{{ error }}</span>{% endfor %}
      </div>
      <button class="btn" type="submit">Обновить фото</button>
    </form>
  </div>

  <div class="card">
    <h3 style="margin-top:0;">Ваши посты</h3>
    <ul style="padding-left:16px;">
      {% for post in posts %}
        <li><a href="{{ url_for('app.view_post', post_id=post.id) }}">{{ post.title }}</a></li>
      {% else %}
        <p class="muted">Пока нет постов.</p>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
